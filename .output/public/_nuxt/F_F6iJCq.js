import{f as u,r as o,c as d,a as e,j as p,v as m,i as t,k as f,l as h,o as _}from"./CDjqcE0o.js";const v={class:"col-6 form-widget"},g=e("h1",{class:"header"},"Supabase + Nuxt 3",-1),b=e("p",{class:"description"},"Sign in via magic link with your email below",-1),k=["value","disabled"],x={__name:"login",setup(w){const n=u(),l=o(!1),s=o(""),r=async()=>{try{l.value=!0;const{error:a}=await n.auth.signInWithOtp({email:s.value});if(a)throw a;alert("Check your email for the login link!")}catch(a){alert(a.error_description||a.message)}finally{l.value=!1}};return(a,i)=>(_(),d("form",{class:"row flex-center flex",onSubmit:h(r,["prevent"])},[e("div",v,[g,b,e("div",null,[p(e("input",{class:"inputField",type:"email",placeholder:"Your email","onUpdate:modelValue":i[0]||(i[0]=c=>f(s)?s.value=c:null)},null,512),[[m,t(s)]])]),e("div",null,[e("input",{type:"submit",class:"button block",value:t(l)?"Loading":"Send magic link",disabled:t(l)},null,8,k)])])],32))}};export{x as default};
